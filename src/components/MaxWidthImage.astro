---
import { Image } from 'astro:assets';

interface Props {
  src: ImageMetadata;
  alt: string;
  quality?: 'low' | 'mid' | 'high' | 'max';
  maxHeight?: string;
  center?: boolean;
}

const { src, alt, quality, maxHeight, center } = Astro.props;
---

<Image
  class="maxWidth"
  src={src}
  alt={alt}
  quality={quality}
  style={{
    '--maxHeight': maxHeight,
    '--display': center ? 'block' : undefined,
    '--margin': center ? '0 auto' : undefined,
  }}
/>

<style
  lang="scss"
  define:vars={{
    maxHeight: '10em',
    display: center ? 'block' : undefined,
    margin: center ? '0 auto' : undefined,
  }}
>
  .maxWidth {
    max-width: 100%;
    height: auto;
    max-height: var(--maxHeight);
    display: var(--display);
    margin: var(--margin);
    width: auto;
  }
</style>
